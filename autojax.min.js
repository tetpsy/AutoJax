//AutoJax | Copyright 2016 | Kieran Harris | South Africa | Free to use by anyone, anywhere.
!function(a){a.fn.autojax=function(t){function e(){o="false";var t=!1,e=!1;a("form").find("*").each(function(){var r=a(this).attr("data-empty");"undefined"!=typeof r&&r!==!1&&(e=!0,"true"===a(this).attr("data-empty")&&(""===a(this).val()?t=!0:o="true"))}),e===!0?t===!0&&(o="false",m.emptyError.call()):o="true"}function r(){c="false";var t=!1,e=!1,r=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;a("form").find("*").each(function(){var l=a(this).attr("data-email");"undefined"!=typeof l&&l!==!1&&(e=!0,"true"===a(this).attr("data-email")&&"true"===o&&(r.test(a(this).val())===!1?t=!0:c="true"))}),e===!0?t===!0&&(c="false",m.emailError.call()):c="true"}function l(){s="false";var t=!1,e=!1;a("form").find("*").each(function(){var r=a(this).attr("data-number");"undefined"!=typeof r&&r!==!1&&(e=!0,"true"===a(this).attr("data-number")&&"true"===o&&"true"===c&&(a.isNumeric(a(this).val())?s="true":t=!0))}),e===!0?t===!0&&(s="false",m.numberError.call()):s="true"}var n,u,o,c,s,f=this,d={type:"POST",customUrl:"false",data:f.serialize(),method:"submit",sentCallback:function(){},errorCallback:function(){},emptyError:function(){},emailError:function(){},numberError:function(){},useValidation:"false",Validation:[e,r,l]},m=a.extend({},d,t);if(n="false"===m.customUrl?f.attr("action"):m.customUrl,u="false"===m.useValidation?"false":"true","submit"===m.method)f.submit(function(t){if(t.preventDefault(),t.stopPropagation(),"true"===u){for(i=0;i<3;i++)m.Validation[i]();"true"===o&&"true"===c&&"true"===s&&(console.log(o+" "+c+" "+s),a.ajax({type:m.type,url:n,data:m.data,success:function(a){data=a,m.sentCallback.call(data)},error:function(){m.errorCallback.call(data)}}))}else a.ajax({type:m.type,url:n,data:m.data,success:function(a){data=a,m.sentCallback.call(data)},error:function(){m.errorCallback.call(data)}})});else if("custom"===m.method)if("true"===u){for(i=0;i<3;i++)m.Validation[i]();"true"===o&&"true"===c&&"true"===s&&a.ajax({type:m.type,url:n,data:m.data,success:function(a){data=a,m.sentCallback.call(data)},error:function(){m.errorCallback.call(data)}})}else a.ajax({type:m.type,url:n,data:m.data,success:function(a){data=a,m.sentCallback.call(data)},error:function(){m.errorCallback.call(data)}});else alert("Invalid method supplied");return f}}(jQuery);