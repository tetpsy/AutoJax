//AutoJax | Copyright 2016 | Kieran Harris | South Africa | Free to use by anyone, anywhere.
!function(a){a.fn.autojax=function(t){function e(){o="false";var t=!1,e=!1;a("form").find("*").each(function(){var r=a(this).attr("data-empty");"undefined"!=typeof r&&r!==!1&&(e=!0,"true"===a(this).attr("data-empty")&&(""===a(this).val()?t=!0:o="true"))}),e===!0?t===!0&&(o="false",p.emptyError.call()):o="true"}function r(){c="false";var t=!1,e=!1,r=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;a("form").find("*").each(function(){var l=a(this).attr("data-email");"undefined"!=typeof l&&l!==!1&&(e=!0,"true"===a(this).attr("data-email")&&"true"===o&&(r.test(a(this).val())===!1?t=!0:c="true"))}),e===!0?t===!0&&(c="false",p.emailError.call()):c="true"}function l(){s="false";var t=!1,e=!1;a("form").find("*").each(function(){var r=a(this).attr("data-number");"undefined"!=typeof r&&r!==!1&&(e=!0,"true"===a(this).attr("data-number")&&"true"===o&&"true"===c&&(a.isNumeric(a(this).val())?s="true":t=!0))}),e===!0?t===!0&&(s="false",p.numberError.call()):s="true"}var u,n,o,c,s,f,d=this,m={type:"POST",customUrl:"false",data:"default",method:"submit",sentCallback:function(){},errorCallback:function(){},emptyError:function(){},emailError:function(){},numberError:function(){},useValidation:"false",Validation:[e,r,l]},p=a.extend({},m,t);if(u="false"===p.customUrl?d.attr("action"):p.customUrl,n="false"===p.useValidation?"false":"true","submit"===p.method)d.submit(function(t){if(t.preventDefault(),t.stopPropagation(),f="default"===p.data?d.serialize():p.data,"true"===n){for(i=0;i<3;i++)p.Validation[i]();"true"===o&&"true"===c&&"true"===s&&a.ajax({type:p.type,url:u,data:f,success:function(a){data=a,p.sentCallback.call(data)},error:function(){p.errorCallback.call(data)}})}else a.ajax({type:p.type,url:u,data:f,success:function(a){data=a,p.sentCallback.call(data)},error:function(){p.errorCallback.call(data)}})});else if("custom"===p.method)if(f="default"===p.data?d.serialize():p.data,"true"===n){for(i=0;i<3;i++)p.Validation[i]();"true"===o&&"true"===c&&"true"===s&&a.ajax({type:p.type,url:u,data:f,success:function(a){data=a,p.sentCallback.call(data)},error:function(){p.errorCallback.call(data)}})}else a.ajax({type:p.type,url:u,data:f,success:function(a){data=a,p.sentCallback.call(data)},error:function(){p.errorCallback.call(data)}});else alert("Invalid method supplied");return d}}(jQuery);


