//AutoJax | Copyright 2016 | Kieran Harris | South Africa | Free to use by anyone, anywhere.
!function(a){a.fn.autojax=function(t){function r(){a("form").find("*").each(function(){"true"===a(this).attr("data-empty")&&(""===a(this).val()?m.emptyError.call():c="true")})}function e(){var t=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;a("form").find("*").each(function(){"true"===a(this).attr("data-email")&&"true"===c&&(t.test(a(this).val())===!1?m.emailError.call():o="true")})}function l(){a("form").find("*").each(function(){"true"===a(this).attr("data-number")&&"true"===c&&"true"===o&&(a.isNumeric(a(this).val())?s="true":m.numberError.call())})}var n,u,c,o,s,f=this,d={type:"POST",customUrl:"false",data:f.serialize(),method:"submit",sentCallback:function(){},errorCallback:function(){},emptyError:function(){},emailError:function(){},numberError:function(){},useValidation:"false",Validation:[r,e,l]},m=a.extend({},d,t);if(n="false"===m.customUrl?f.attr("action"):m.customUrl,u="false"===m.useValidation?"true":"false","submit"===m.method)f.submit(function(t){if(t.preventDefault(),t.stopPropagation(),"false"===u){for(i=0;i<3;i++)m.Validation[i]();"true"===c&&"true"===o&&"true"===s&&a.ajax({type:m.type,url:n,data:m.data,success:function(a){data=a,m.sentCallback.call(data)},error:function(){m.errorCallback.call(data)}})}else a.ajax({type:m.type,url:n,data:m.data,success:function(a){data=a,m.sentCallback.call(data)},error:function(){m.errorCallback.call(data)}})});else if("custom"===m.method)if("false"===u){for(i=0;i<3;i++)m.Validation[i]();"true"===c&&"true"===o&&"true"===s&&a.ajax({type:m.type,url:n,data:m.data,success:function(a){data=a,m.sentCallback.call(data)},error:function(){m.errorCallback.call(data)}})}else a.ajax({type:m.type,url:n,data:m.data,success:function(a){data=a,m.sentCallback.call(data)},error:function(){m.errorCallback.call(data)}});else alert("Invalid method supplied");return f}}(jQuery);